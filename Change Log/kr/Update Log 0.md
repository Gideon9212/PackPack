# 체인지 로그 #0

---

<div align="right">

| 🌐 언어 |
| :---: |  
| [🇺🇸 English ](https://github.com/battlecatsultimate/PackPack/blob/main/Change%20Log/kr/Update%20Log%200.md) |

</div>

## 보물 시스템

### 보물 시스템의 소개

지금까지 봇은 유저들이 항상 모든 보물을 모았다고 가정해왔습니다. 하지만 이는 항상 그렇지 않으며 유저가 가진 냥코 계정 상태에 따라서 보물의 
상태가 다를 수 있습니다. 이를 해결하기 위해 봇에 커스텀 가능한 보물 기능을 추가했습니다. 유저들은 자신만의 보물 상태를 봇에 적용시킬 수 있고, 
다른 명령어에 적용한 보물을 사용하도록 만들 수 있게 됩니다.

<div align="center">

| <image src="https://cdn.discordapp.com/attachments/642008685199228946/1106427335374282862/image.png"> |
|:-----------------------------------------------------------------------------------------------------:|
|                                            보물을 고려한 유닛의 공격력                                            |                                             

</div>

예를 들어, 조건이 맞는다면 봇이 유닛의 체력과 공격력을 보물과 능력을 고려하여 표기하게 됩니다

<div align="center">

| <image src="https://cdn.discordapp.com/attachments/642008685199228946/1106427530380066886/image.png"> |
|:-----------------------------------------------------------------------------------------------------:|
|                                          보물을 고려한 에이리언 적의 정보                                           |

</div>

다른 예시로는 미래편과 우주편의 크리스탈 보물 또한 적용이 가능하여 굳이 배율을 일일히 설정하지 않아도 봇이 이를 자동으로 처리하도록 만들 수 
있습니다. 위의 그림에서 보실 수 있듯이, 적의 배율을 100%로 설정해도 미래편 크리스탈 보물을 모으지 않았다고 설정한 유저의 보물을 고려하여 
배율을 자동으로 조정하게 됩니다.

---

### 보물 설정

<div align="center">

| <image src="https://cdn.discordapp.com/attachments/642008685199228946/1106427755081510912/image.png"> |
|:-----------------------------------------------------------------------------------------------------:|
|                                               보물 설정 명령어                                               |

</div>

`p!treasure` 또는 `p!tr` 명령어를 불러서 보물을 조정할 수 있습니다. 명령어를 부르면 현재 보물이 어떻게 설정되어 있는지 표시됩니다. 냥코 
대포 보물 등과 같이 다른 명령어에 사용되지 않을 불필요한 보물/레벨들은 전부 제외됩니다. 보물은 아래와 같이 분류 됩니다 :

- 기본 업그레이드
- 세계편 보물
- 우주편 보물
- 미래편 보물

명령어 아래의 버튼들을 클릭하여 각 카테고리의 레벨/보물을 조정할 수 있습니다.

<div align="center">

| <image src="https://cdn.discordapp.com/attachments/642008685199228946/1106428048292712478/image.png"> |
|:-----------------------------------------------------------------------------------------------------:|
|                                               보물 조정 패널                                                |

</div>

위의 그림과 같이, 보물 및 레벨을 설정할 수 있고, 조정된 값을 보내면 봇이 적힌 값에 따라 레벨/보물을 설정합니다. 위의 그림의 경우, 보물이 
300%까지 적을 수 있는 이유는 세계편에 총 3개의 챕터가 존재하기 때문입니다. 아래의 그림처럼 게임 내에서 퍼센트 값을 구할 수 있습니다.

<div align="center">

| <image width=50% height=50% src="https://i.namu.wiki/i/tp_6LwT8pSdbCis9M0F33pFs_PUoyYoy8Th63Mexf047T6koCCX4b_cYK5nenVPXU3x0bKPen0zlo1VXKV_dWzn4MwrbESRoit5QZKQVden7-kySw25IG3sRFyOmSQoshLeg7r6xmVFwMfPYASpg5A.webp"> |
|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
|                                                                                                      게임 내 보물 파워                                                                                                      |

</div>

---

### 보물 적용

<div align="center">

| <image src="https://cdn.discordapp.com/attachments/642008685199228946/1106428326735773786/image.png"> |
|:-----------------------------------------------------------------------------------------------------:|
|                                              보물을 고려한 스탯                                               |

</div>

`p!fs` 명령어에서 `-tr` 인자를 넘겨 봇이 보물을 고려한 스탯도 같이 표기하도록 만들 수 있습니다. 여기서 유닛이 여러 종류의 속성을 타겟하고 
과실 보물의 퍼센트가 서로 다른 문제가 있을 수 있습니다. 이 경우 봇은 가장 파워가 높은 과실 보물을 찾아서 그 보물을 적용합니다. 과실 보물에 
따른 `맷집이 좋다`나 `초데미지` 같은 능력의 배율이 결정될 수 있으므로 이를 고려하여 체력이나 공격력도 표기하게 됩니다.

쿨타임이나 적의 드롭같은 값들은 자동으로 보물이 적용됩니다. 이렇게 값이 달라지기 때문에 커스텀 보물이 적용될 경우, 임베디드에 보물의 적용 여부 
또한 표시됩니다. 만약 풀 보물의 상태와 유저의 커스텀 보물 상태가 서로 동일할 경우, 이러한 문구는 표시되지 않습니다.

---

### 보물 관련 설정

<div align="center">

| <image src="https://cdn.discordapp.com/attachments/642008685199228946/1106428432251879525/image.png"> |
|:-----------------------------------------------------------------------------------------------------:|
|                                            설정 명령어 내의 보물 설정                                            |

</div>

`p!config` 명령어를 통해 `p!fs` 명령어를 사용할 때, 항상 봇이 `-tr` 인자를 사용하도록 만들 수도 있습니다.

<div align="center">

| <image src="https://cdn.discordapp.com/attachments/642008685199228946/1106428719737868399/image.png"> |
|:-----------------------------------------------------------------------------------------------------:|
|                                              풀 보물 강제 설정                                               |

</div>

보물 시스템 도입으로 인해 발생하는 가장 큰 문제 중 하나는 봇이 유저마다 고유의 보물 설정으로 인해 스탯 값을 다르게 표시하여 유저들 사이에 혼동을 
줄 수 있다는 점입니다. 이 경우를 위해 서버 관리자들은 `p!serverconfig` 명령어를 통해서 유저들이 항상 풀 보물을 사용하도록 만들 수 있습니다. 
이 설정은 유저들의 커스텀 보물 데이터를 간섭하지 않으면서 풀 보물을 적용시키도록 하는 설정입니다. **유저들의 경우 이러한 설정이 서버에 적용되어
있어도 여전히 봇에게 개인 메세지를 보내 커스텀 보물을 사용할 수 있다는 점을 명시해 주세요.**

---

## `p!config` 개선

<div align="true">

| <image src="https://cdn.discordapp.com/attachments/642008685199228946/1106428922389868716/image.png"> |
|:-----------------------------------------------------------------------------------------------------:|
|                                             설정 명령어 내의 스위치                                             |

</div>

예전에는 스위치처럼 전환 가능한 설정에도 `참` 과 `거짓`으로 리스트를 선택하도록 요구했지만 이제는 스위치 역할을 하는 버튼 방식으로 
개선되었습니다.

---

## 원범/전방 아이콘 표시

<div align="center">

| <image src="https://cdn.discordapp.com/attachments/642008685199228946/1106428992967426138/image.png"> |
|:-----------------------------------------------------------------------------------------------------:|
|                                             원범/전방 아이콘 예시                                              |

</div>

작은 편리 기능으로 봇이 이제부터 해당 적/유닛이 원거리 범위인지 전방위인지 아이콘으로 표기하게 됩니다.
